import React, { Component } from 'react'
import SubItem from './SubItem'

export class Item extends Component {
    article = [
        {
            "score": 0.70047736,
            "show": {
                "id": 34653,
                "url": "https://www.tvmaze.com/shows/34653/all-american",
                "name": "All American",
                "type": "Scripted",
                "language": "English",
                "genres": [
                    "Drama",
                    "Sports"
                ],
                "status": "Running",
                "runtime": 60,
                "averageRuntime": 60,
                "premiered": "2018-10-10",
                "ended": null,
                "officialSite": "http://www.cwtv.com/shows/all-american/",
                "schedule": {
                    "time": "20:00",
                    "days": [
                        "Monday"
                    ]
                },
                "rating": {
                    "average": 6.4
                },
                "weight": 99,
                "network": {
                    "id": 5,
                    "name": "The CW",
                    "country": {
                        "name": "United States",
                        "code": "US",
                        "timezone": "America/New_York"
                    },
                    "officialSite": "https://www.cwtv.com/"
                },
                "webChannel": null,
                "dvdCountry": null,
                "externals": {
                    "tvrage": null,
                    "thetvdb": 348200,
                    "imdb": "tt7414406"
                },
                "image": {
                    "medium": "https://static.tvmaze.com/uploads/images/medium_portrait/425/1064746.jpg",
                    "original": "https://static.tvmaze.com/uploads/images/original_untouched/425/1064746.jpg"
                },
                "summary": "<p>When a rising high school football player from South Central L.A. is recruited to play for Beverly Hills High, the wins, losses and struggles of two families from vastly different worlds — Compton and Beverly Hills — begin to collide. Inspired by the life of pro football player Spencer Paysinger.</p>",
                "updated": 1669757271,
                "_links": {
                    "self": {
                        "href": "https://api.tvmaze.com/shows/34653"
                    },
                    "previousepisode": {
                        "href": "https://api.tvmaze.com/episodes/2416901"
                    },
                    "nextepisode": {
                        "href": "https://api.tvmaze.com/episodes/2439993"
                    }
                }
            }
        },
        {
            "score": 0.7002398,
            "show": {
                "id": 42181,
                "url": "https://www.tvmaze.com/shows/42181/all-rise",
                "name": "All Rise",
                "type": "Scripted",
                "language": "English",
                "genres": [
                    "Drama",
                    "Legal"
                ],
                "status": "Running",
                "runtime": 60,
                "averageRuntime": 60,
                "premiered": "2019-09-23",
                "ended": null,
                "officialSite": "https://www.oprah.com/sp/all-rise.html",
                "schedule": {
                    "time": "21:00",
                    "days": [
                        "Tuesday"
                    ]
                },
                "rating": {
                    "average": 6.7
                },
                "weight": 98,
                "network": {
                    "id": 236,
                    "name": "Oprah Winfrey Network",
                    "country": {
                        "name": "United States",
                        "code": "US",
                        "timezone": "America/New_York"
                    },
                    "officialSite": null
                },
                "webChannel": null,
                "dvdCountry": null,
                "externals": {
                    "tvrage": null,
                    "thetvdb": 363841,
                    "imdb": "tt10329042"
                },
                "image": {
                    "medium": "https://static.tvmaze.com/uploads/images/medium_portrait/413/1034988.jpg",
                    "original": "https://static.tvmaze.com/uploads/images/original_untouched/413/1034988.jpg"
                },
                "summary": "<p><b>All Rise</b> is a courthouse drama that follows the chaotic, hopeful and sometimes absurd lives of its judges, prosecutors and public defenders, as they work with bailiffs, clerks and cops to get justice for the people of Los Angeles amidst a flawed legal process. Among them is newly appointed Judge Lola Carmichael, a highly regarded and impressive deputy district attorney who doesn't intend to sit back on the bench in her new role, but instead leans in, immediately pushing the boundaries and challenging the expectations of what a judge can be.</p>",
                "updated": 1669073854,
                "_links": {
                    "self": {
                        "href": "https://api.tvmaze.com/shows/42181"
                    },
                    "previousepisode": {
                        "href": "https://api.tvmaze.com/episodes/2320791"
                    }
                }
            }
        },
        {
            "score": 0.6944692,
            "show": {
                "id": 6305,
                "url": "https://www.tvmaze.com/shows/6305/all-that",
                "name": "All That",
                "type": "Variety",
                "language": "English",
                "genres": [
                    "Comedy"
                ],
                "status": "Ended",
                "runtime": 25,
                "averageRuntime": 25,
                "premiered": "1994-12-24",
                "ended": "2005-10-22",
                "officialSite": null,
                "schedule": {
                    "time": "21:00",
                    "days": [
                        "Saturday"
                    ]
                },
                "rating": {
                    "average": null
                },
                "weight": 87,
                "network": {
                    "id": 27,
                    "name": "Nickelodeon",
                    "country": {
                        "name": "United States",
                        "code": "US",
                        "timezone": "America/New_York"
                    },
                    "officialSite": "https://www.nick.com/"
                },
                "webChannel": null,
                "dvdCountry": null,
                "externals": {
                    "tvrage": null,
                    "thetvdb": 75208,
                    "imdb": "tt0111875"
                },
                "image": {
                    "medium": "https://static.tvmaze.com/uploads/images/medium_portrait/24/60454.jpg",
                    "original": "https://static.tvmaze.com/uploads/images/original_untouched/24/60454.jpg"
                },
                "summary": "<p><b>All That</b> is an American live-action, sketch comedy-variety show that aired on the Nickelodeon cable television network featuring short comedic sketches and weekly musical guests. ork.</p>",
                "updated": 1649599498,
                "_links": {
                    "self": {
                        "href": "https://api.tvmaze.com/shows/6305"
                    },
                    "previousepisode": {
                        "href": "https://api.tvmaze.com/episodes/1268569"
                    }
                }
            }
        },
        {
            "score": 0.69366515,
            "show": {
                "id": 9526,
                "url": "https://www.tvmaze.com/shows/9526/all-saints",
                "name": "All Saints",
                "type": "Scripted",
                "language": "English",
                "genres": [
                    "Drama",
                    "Medical"
                ],
                "status": "Ended",
                "runtime": 60,
                "averageRuntime": 60,
                "premiered": "1998-02-24",
                "ended": "2009-10-27",
                "officialSite": null,
                "schedule": {
                    "time": "20:30",
                    "days": [
                        "Tuesday"
                    ]
                },
                "rating": {
                    "average": 7.8
                },
                "weight": 83,
                "network": {
                    "id": 251,
                    "name": "Seven Network",
                    "country": {
                        "name": "Australia",
                        "code": "AU",
                        "timezone": "Australia/Sydney"
                    },
                    "officialSite": null
                },
                "webChannel": null,
                "dvdCountry": null,
                "externals": {
                    "tvrage": null,
                    "thetvdb": 71815,
                    "imdb": "tt0163924"
                },
                "image": {
                    "medium": "https://static.tvmaze.com/uploads/images/medium_portrait/408/1022051.jpg",
                    "original": "https://static.tvmaze.com/uploads/images/original_untouched/408/1022051.jpg"
                },
                "summary": "<p><b>All Saints</b> follows the lives of the staff at All Saints Western General Hospital. Until its closure in 2004, the show primarily focused on the staff in Ward 17. Known as the \"garbage ward\" as it took all the overflow from the other wards.</p>",
                "updated": 1652618960,
                "_links": {
                    "self": {
                        "href": "https://api.tvmaze.com/shows/9526"
                    },
                    "previousepisode": {
                        "href": "https://api.tvmaze.com/episodes/512065"
                    }
                }
            }
        }
    ]

    constructor() {
        super();
        console.log("I am a onstructor from Movie app")
        this.state = {
            article: this.article,
            loading: false
        }
    }
    async componentDidMount() {
        console.log("cdn")
        let url = "https://www.tvmaze.com/shows/42181/all-rise";
        let data = await fetch(url);
        let parcedData = await data.json()
        console.log(parcedData);
        this.setState({ article: parcedData.article })
    }
    render() {
        return (
            <div className="container my-3">
                <h2>Movies</h2>
                <div className="row">
                    {this.state.article.map((element)=>{
                        return <div className="col-md-4" key={element.show.url}>
                            <SubItem name={element.show.name ? element.show.name.slice(0, 45) : ""} summary={element.show.summary ? element.show.summary.slice(0, 88) : ""} image={element.show.image.original} movieUrl={element.show.url} />
                        </div>
                    })}
                </div>
            </div>
        )
    }
}

export default Item

